{"version":3,"file":"menu-toggle.js","sources":["menu-toggle.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;iDAQE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;oBAAE;AACF","sourcesContent":["import { Directive, HostListener, Input, Optional } from '@angular/core';\nimport { Button } from '../button/button';\nimport { MenuController } from '../app/menu-controller';\nimport { Navbar } from '../toolbar/navbar';\nimport { ViewController } from '../../navigation/view-controller';\n/**\n * @name MenuToggle\n * @description\n * The `menuToggle` directive can be placed on any button to toggle a menu open or closed.\n * If it is added to the [NavBar](../../toolbar/Navbar) of a page, the button will only appear\n * when the page it's in is currently a root page. See the [Menu Navigation Bar Behavior](../Menu#navigation-bar-behavior)\n * docs for more information.\n *\n *\n * @usage\n *\n * A simple `menuToggle` button can be added using the following markup:\n *\n * ```html\n * <button ion-button menuToggle>Toggle Menu</button>\n * ```\n *\n * To toggle a specific menu by its id or side, give the `menuToggle`\n * directive a value.\n *\n * ```html\n * <button ion-button menuToggle=\"right\">Toggle Right Menu</button>\n * ```\n *\n * If placing the `menuToggle` in a navbar or toolbar, it should be\n * placed as a child of the `<ion-navbar>` or `<ion-toolbar>`, and not in\n * the `<ion-buttons>` element:\n *\n * ```html\n * <ion-header>\n *\n *   <ion-navbar>\n *     <ion-buttons start>\n *       <button ion-button>\n *         <ion-icon name=\"contact\"></ion-icon>\n *       </button>\n *     </ion-buttons>\n *     <button ion-button menuToggle>\n *       <ion-icon name=\"menu\"></ion-icon>\n *     </button>\n *     <ion-title>\n *       Title\n *     </ion-title>\n *     <ion-buttons end>\n *       <button ion-button (click)=\"doClick()\">\n *         <ion-icon name=\"more\"></ion-icon>\n *       </button>\n *     </ion-buttons>\n *   </ion-navbar>\n *\n * </ion-header>\n * ```\n *\n * Similar to `<ion-buttons>`, the `menuToggle` can be positioned using\n * `start`, `end`, `left`, or `right`:\n *\n * ```html\n * <ion-toolbar>\n *   <button ion-button menuToggle right>\n *     <ion-icon name=\"menu\"></ion-icon>\n *   </button>\n *   <ion-title>\n *     Title\n *   </ion-title>\n *   <ion-buttons end>\n *     <button ion-button (click)=\"doClick()\">\n *       <ion-icon name=\"more\"></ion-icon>\n *     </button>\n *   </ion-buttons>\n * </ion-toolbar>\n * ```\n *\n * See the [Toolbar API docs](../../toolbar/Toolbar) for more information\n * on the different positions.\n *\n * @demo /docs/demos/src/menu/\n * @see {@link /docs/components#menus Menu Component Docs}\n * @see {@link ../../menu/Menu Menu API Docs}\n */\nexport class MenuToggle {\n    constructor(_menu, _viewCtrl, _button, _navbar) {\n        this._menu = _menu;\n        this._viewCtrl = _viewCtrl;\n        this._button = _button;\n        this._isButton = !!_button;\n        this._inNavbar = !!_navbar;\n    }\n    ngAfterContentInit() {\n        // Add the bar-button-menutoggle / button-menutoggle class\n        if (this._isButton) {\n            this._button._setClass('menutoggle', true);\n        }\n    }\n    /**\n    * @hidden\n    */\n    toggle() {\n        const menu = this._menu.get(this.menuToggle);\n        menu && menu.toggle();\n    }\n    /**\n    * @hidden\n    */\n    get isHidden() {\n        const menu = this._menu.get(this.menuToggle);\n        if (this._inNavbar && this._viewCtrl) {\n            if (!menu || !menu._canOpen()) {\n                return true;\n            }\n            if (this._viewCtrl.isFirst()) {\n                // this is the first view, so it should always show\n                return false;\n            }\n            if (menu) {\n                // this is not the root view, so see if this menu\n                // is configured to still be enabled if it's not the root view\n                return !menu.persistent;\n            }\n        }\n        return false;\n    }\n}\nMenuToggle.decorators = [\n    { type: Directive, args: [{\n                selector: '[menuToggle]',\n                host: {\n                    '[hidden]': 'isHidden'\n                }\n            },] },\n];\n/** @nocollapse */\nMenuToggle.ctorParameters = () => [\n    { type: MenuController, },\n    { type: ViewController, decorators: [{ type: Optional },] },\n    { type: Button, decorators: [{ type: Optional },] },\n    { type: Navbar, decorators: [{ type: Optional },] },\n];\nMenuToggle.propDecorators = {\n    'menuToggle': [{ type: Input },],\n    'toggle': [{ type: HostListener, args: ['click',] },],\n};\n"]}